# **1. Hadoop 的组成**

(1) Hadoop HDFS：一个高可靠、高吞吐量的分布式文件系统；
(2) Hadoop MapReduce：一个分布式的离线并行计算框架；
(3) Hadoop YARN：作业调度与集群资源管理的框架；
(4) Hadoop Common：支持其他模块的工具模块。



## **1.1. HDFS 的架构**

(1) NameNode（nn）：存储文件的元数据，如文件名，文件目录结构，文件属性（生成时间、副本数、文件权限），以及每个文件的块列表和块所在的 DataNode 等；
(2) DataNode(dn)：在本地文件系统存储文件块数据，以及块数据的校验和；
(3) Secondary NameNode(2nn)：用来监控 HDFS 状态的辅助后台程序，每隔一段时间获取 HDFS 元数据的快照。



## **1.2. Yarn 的架构**

(1) ResourceManager(rm)：处理客户端请求、启动/监控 ApplicationMaster、监控 NodeManager、资源分配与调度；
(2) NodeManager(nm)：单个节点上的资源管理、处理来自 ResourceManager 的命令、处理来自 ApplicationMaster 的命令；
(3) ApplicationMaster：数据切分、为应用程序申请资源，并分配给内部任务、任务监控与容错。
(4) Container：对任务运行环境的抽象，封装了 CPU、内存等多维资源以及环境变量、启动命令等任务运行相关的信息。



## **1.3. MapReduce 的架构**

MapReduce 将计算过程分为两个阶段：Map 和 Reduce
(1) Map 阶段并行处理输入数据
(2) Reduce 阶段对 Map 结果进行汇总



# **2. Hadoop 的生态体系**

![Hadoop之基本组成与生态体系2](https://res-static.hc-cdn.cn/fms/img/be9b0f104dcaf1ab94e47cae233b20ad1603787789311.jpg)

图中涉及的技术名词解释如下：
(1) Sqoop：sqoop是一款开源的工具，主要用于在 Hadoop(Hive) 与传统的数据库 (mysql) 间进行数据的传递，可以将一个关系型数据库 (例如 ： MySQL,Oracle 等) 中的数据导进到 Hadoop 的 HDFS 中，也可以将 HDFS 的数据导进到关系型数据库中。
(2) Flume：Flume 是 Cloudera 提供的一个高可用的，高可靠的，分布式的海量日志采集、聚合和传输的系统，Flume 支持在日志系统中定制各类数据发送方，用于收集数据；同时，Flume 提供对数据进行简单处理，并写到各种数据接受方(可定制)的能力。
(3) Kafka：Kafka 是一种高吞吐量的分布式发布订阅消息系统，有如下特性：
A、通过 O(1) 的磁盘数据结构提供消息的持久化，这种结构对于即使数以 TB 的消息存储也能够保持长时间的稳定性能。
B、高吞吐量：即使是非常普通的硬件 Kafka 也可以支持每秒数百万的消息
C、支持通过 Kafka 服务器和消费机集群来分区消息。
D、支持 Hadoop 并行数据加载。
(4) Storm：Storm 为分布式实时计算提供了一组通用原语，可被用于“流处理”之中，实时处理消息并更新数据库。这是管理队列及工作者集群的另一种方式。 Storm 也可被用于“连续计算”（continuous computation），对数据流做连续查询，在计算时就将结果以流的形式输出给用户。
(5) Spark：Spark 是当前最流行的开源大数据内存计算框架。可以基于 Hadoop 上存储的大数据进行计算。
(6) Oozie：Oozie 是一个管理 Hadoop 作业 (job) 的工作流程调度管理系统。Oozie 协调作业就是通过时间(频率)和有效数据触发当前的 Oozie 工作流程。
(7) Hbase：HBase 是一个分布式的、面向列的开源数据库。HBase 不同于一般的关系数据库，它是一个适合于非结构化数据存储的数据库。
(8) Hive：Hive 是基于 Hadoop 的一个数据仓库工具，可以将结构化的数据文件映射为一张数据库表，并提供简单的 sql 查询功能，可以将 sql 语句转换为 MapReduce 任务进行运行。 其优点是学习成本低，可以通过类 SQL 语句快速实现简单的 MapReduce 统计，不必开发专门的 MapReduce 应用，十分适合数据仓库的统计分析。
(9) R语言：R是用于统计分析、绘图的语言和操作环境。R 是属于 GNU 系统的一个自由、免费、源代码开放的软件，它是一个用于统计计算和统计制图的优秀工具。
(10) Mahout: Apache Mahout 是个可扩展的机器学习和数据挖掘库，当前 Mahout 支持主要的4个用例：
A、推荐挖掘：搜集用户动作并以此给用户推荐可能喜欢的事物。
B、聚集：收集文件并进行相关文件分组。
C、分类：从现有的分类文档中学习，寻找文档中的相似特征，并为无标签的文档进行正确的归类。
D、频繁项集挖掘：将一组项分组，并识别哪些个别项会经常一起出现。
(11) ZooKeeper：Zookeeper 是 Google 的 Chubby 一个开源的实现。它是一个针对大型分布式系统的可靠协调系统，提供的功能包括：配置维护、名字服务、 分布式同步、组服务等。ZooKeeper 的目标就是封装好复杂易出错的关键服务，将简单易用的接口和性能高效、功能稳定的系统提供给用户。